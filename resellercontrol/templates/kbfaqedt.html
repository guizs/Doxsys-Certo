{% extends 'home.html' %}

{% block body %}

<div id="main" class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-1 pb-1 mt-1 mb-1">
  <div class="row container-fluid">

 {% if current_user.access >= 1 %}
   <div class="container">
    <div class="row px-0 py-0 fs-6" style="line-height:0.8 padding:25px">

              <form method="POST" action="" class="border mt-2 p-3 border-secondary">
              {{ form_kbfaq.csrf_token }}
                    <fieldset>
                        <div class="form-group row">
                          {% if current_user.access > 3 %}
                          <div class="row d-flex flex-wrap flex-md-nowrap align-items-left">
                            <div class="col-2 mt-2 mb-2 ml-0 mr-0">
                                {{ form_kbfaq.accesslevel.label(class="form-control-label") }}
                            </div>
                            <div class="col w-50 p-1">
                                {% if form_kbfaq.accesslevel.errors %}
                                 {{ form_kbfaq.accesslevel(class="form-control is-invalid") }}
                                 <div class="invalid-feedback">
                                 {% for erro in form_kbfaq.accesslevel.errors %}
                                     {{ erro }}
                                 {% endfor %}
                                 </div>
                                {% else %}
                                    {{ form_kbfaq.accesslevel(class="form-control") }}
                                {% endif %}
                            </div>
                          </div>
                          {% endif %}
                          <div class="row d-flex flex-wrap flex-md-nowrap align-items-left">
                            <div class="col-2 mt-2 mb-2 ml-0 mr-0">
                                {{ form_kbfaq.categoria.label(class="form-control-label") }}
                            </div>
                            <div class="col w-50 p-1">
                                {% if form_kbfaq.categoria.errors %}
                                 {{ form_kbfaq.categoria(class="form-control is-invalid") }}
                                 <div class="invalid-feedback">
                                 {% for erro in form_kbfaq.categoria.errors %}
                                     {{ erro }}
                                 {% endfor %}
                                 </div>
                                {% else %}
                                    {{ form_kbfaq.categoria(class="form-control") }}
                                {% endif %}
                            </div>
                          </div>
                        </div>
                        <div class="form-group row">
                          <div class="row d-flex flex-wrap flex-md-nowrap align-items-left">
                            <div class="col-2 mt-2 mb-2 ml-0 mr-0">
                                {{ form_kbfaq.titulo.label(class="form-control-label") }}
                            </div>
                            <div class="col w-auto p-1">
                                {% if form_kbfaq.titulo.errors %}
                                 {{ form_kbfaq.titulo(class="form-control is-invalid") }}
                                 <div class="invalid-feedback">
                                 {% for erro in form_kbfaq.titulo.errors %}
                                     {{ erro }}
                                 {% endfor %}
                                 </div>
                                {% else %}
                                    {{ form_kbfaq.titulo(class="form-control") }}
                                {% endif %}
                            </div>
                          </div>
                        </div>
                        <div class="form-group row">
                          <div class="row d-flex flex-wrap flex-md-nowrap align-items-left">
                            <div class="col-2 mt-2 mb-2 ml-0 mr-0">
                                {{ form_kbfaq.descricao.label(class="form-control-label") }}
                            </div>
                            <div class="col w-auto p-1">
                                {% if form_kbfaq.descricao.errors %}
                                 {{ form_kbfaq.descricao(class="form-control is-invalid") }}
                                 <div class="invalid-feedback">
                                 {% for erro in form_kbfaq.descricao.errors %}
                                     {{ erro }}
                                 {% endfor %}
                                 </div>
                                {% else %}
                                    {{ form_kbfaq.descricao(class="form-control") }}
                                {% endif %}
                            </div>
                          </div>
                        </div>

                        <div class="footer p-1" style="display:flex; gap:20px">
                            <button onclick="history.back()" type="button" class="btn btn-secondary">Cancelar</button>
                            {% if kbfaq.idkbfaq and current_user.access > 3 %}
                            <a href="{{ url_for('kbfaqdel', id=kbfaq.idkbfaq) }}">
                                <button type="button" class="btn btn-sm btn-outline-danger h-100">Apagar</button>
                            </a>
                            {% endif %}
                            {{ form_kbfaq.botao_submit_editar_kbfaq(class="row btn btn-sm btn-outline-secondary") }}
                        </div>
                    </fieldset>
              </form>

    </div>
   </div>
{% else %}
    <p>Insuficient Access Level!</p>
{% endif %}
</div>
</div>

{% endblock %}